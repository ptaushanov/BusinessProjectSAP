<!DOCTYPE html>
<html lang="en" xmlns:th=”http://www.thymeleaf.org”> <head>
<title>Manage Customers</title>
<th:block th:insert="fragments :: common_head"></th:block>
<style>
    .navigation {
        position: absolute;
        padding: 1rem;
    }

    .mt-10 {
        margin-top: 10rem;
    }

    .valign-wrapper {
        min-height: 100vh;
        height: 100vh;
    }

    td {
        padding-left: 2rem;
        padding-right: 2rem;
    }
</style>
</head>

<body>
    <div class="navigation">
        <a class="waves-effect waves-light btn-small left white-text purple darken-4"
            th:href="@{/dashboard(role= ${'salesRep'}, id= ${requesterId})}">Back</a>
    </div>
    <div class="animate__animated animate__fadeIn valign-wrapper">
        <div class="row">
            <div th:if=${customers.empty} class="col s12">
                <h2 class="center-align purple-text text-darken-4">No customers</h2>
            </div>
            <div th:unless=${customers.empty} class="col s12">
                <table class="highlight z-depth-3">
                    <thead class="purple darken-4 white-text gray-text text-lighten-2">
                        <tr>
                            <td>Id</td>
                            <td>First name</td>
                            <td>Last name</td>
                            <td>Phone number</td>
                            <td>Edit</td>
                            <td>Delete</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="customer: ${customers}">
                            <td th:text="${customer.id}"></td>
                            <td th:text="${customer.firstName}"></td>
                            <td th:text="${customer.lastName}"></td>
                            <td th:text="${customer.phoneNumber}"></td>
                            <td><a th:href="@{/dashboard/update/customer(requesterId = ${requesterId}, targetId = ${customer.id})}"
                                    class="waves-effect waves-light btn-small btn-flat blue darken-3
                                    white-text">Edit</a>
                            </td>
                            <td><a th:href="@{/dashboard/delete/customer(requesterId = ${requesterId}, targetId = ${customer.id})}"
                                    class="waves-effect waves-light btn-small btn-flat red accent-4 deleteBTN white-text">Delete</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</body>

</html>